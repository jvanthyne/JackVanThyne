<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>VT Design Build — Products</title>

<!-- Favicon: use your PNG as-is -->
<link rel="icon" type="image/png" href="VT_logo.png" />

<style>
  :root{
    --bg:#575e52;
    --fg:#000000;
    --accent:orange;

    /* one consistent text size */
    --fs:16px;
    --lh:1.2;

    /* layout */
    --header-h:72px;
    --sidebar-w:180px;
    --gap:12px;
    --footer-h:100px; /* extra room for stacked links */

    /* grid / featured */
    --tile:190px;             /* min tile width */
    --carousel-h:380px;

    /* icons */
    --logo-size:46px;         /* smaller logo above sidebar */
    --truck-size:110px;       /* bigger truck top-right */

    /* custom cursor (smaller triangle) */
    --cursor:16px;

    /* truck flash duration (longer) */
    --flash-ms:800ms;
  }

  html, body{
    margin:0; padding:0; height:100%;
    background:var(--bg); color:var(--fg);
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    font-size:var(--fs); line-height:var(--lh);
    text-transform:uppercase;
    overflow:hidden;
  }

  *{ cursor:none !important; }
  a{ color:#000; text-decoration:none; }
  a:hover{ color:#fff; }
  button:focus, a:focus{ outline:none; }

  /* smaller triangle cursor */
  #custom-cursor{
    position:fixed; top:0; left:0; width:var(--cursor); height:var(--cursor);
    pointer-events:none; z-index:9999;
    clip-path:polygon(50% 0%, 0% 100%, 100% 100%);
    background:#fff; mix-blend-mode:difference;
  }

  /* header (truck on the right) */
  .header{
    position:fixed; left:0; right:0; top:0; height:var(--header-h);
    display:flex; align-items:center; justify-content:flex-end;
    padding:0 8px; box-sizing:border-box;
  }
  .truck-icon{
    width:var(--truck-size); height:var(--truck-size);
    background:url('flatbed_truck.png') no-repeat center/contain;
    transition:filter .2s ease;
    filter:none;                 /* base */
  }
  .truck-icon:hover{ filter:invert(1) brightness(2); }
  .truck-icon.flash{ animation:truckflash var(--flash-ms) ease; }
  @keyframes truckflash{
    0% { filter:invert(1) brightness(2); }
    100% { filter:none; }
  }

  /* logo centered above sidebar */
  .logo-above-sidebar{
    position:fixed; top:6px; left:0; width:var(--sidebar-w);
    display:flex; justify-content:center; align-items:center;
    pointer-events:none;
  }
  .logo-above-sidebar img{
    width:var(--logo-size); height:var(--logo-size); object-fit:contain;
  }

  /* sidebar (same color as page) */
  .sidebar{
    position:fixed; left:0; top:var(--header-h); bottom:var(--footer-h);
    width:var(--sidebar-w); background:var(--bg);
    padding:12px; box-sizing:border-box;
    display:flex; flex-direction:column; gap:.6rem;
  }
  .cat{ color:var(--fg); transition:color .2s ease; }
  .cat:hover, .cat.active{ color:#fff; }  /* active stays white (not orange) */

  /* content area (two columns) */
  .content{
    position:fixed; left:var(--sidebar-w); right:0; top:var(--header-h); bottom:var(--footer-h);
    display:flex; gap:var(--gap); padding:var(--gap); box-sizing:border-box;
  }
  .left-col, .right-col{ flex:1; min-width:0; }

  /* grid with perfect square tiles (image + title inside square) */
  .grid{
    height:100%; overflow:auto; scrollbar-width:none;
    display:grid; gap:var(--gap);
    grid-template-columns:repeat(auto-fill, minmax(var(--tile), 1fr));
    align-content:start;
  }
  .grid::-webkit-scrollbar{ display:none; }

  .tile{
    aspect-ratio:1 / 1;                   /* perfect square */
    background:#fff; border:1px solid #000; box-sizing:border-box;
    display:flex; flex-direction:column; align-items:center; justify-content:flex-start;
    padding:8px; gap:8px; color:var(--fg);
    transition:background .15s ease, color .15s ease;
  }
  .tile:hover{
    background:#000; color:#fff;          /* box turns black, text white */
  }
  .tile-img{
    flex:1 1 auto; width:100%; min-height:0;
    display:flex; align-items:center; justify-content:center;
  }
  .tile-img img{
    width:100%; height:100%; object-fit:cover; border:1px solid #000;
    transition:border-color .15s ease;
  }
  .tile:hover .tile-img img{ border-color:#fff; }
  .tile .t{
    width:100%; text-align:center; line-height:1.1;
  }

  /* featured panel */
  .featured{
    height:100%; overflow:auto; scrollbar-width:none;
    display:flex; flex-direction:column; align-items:center; gap:10px; padding-right:4px;
  }
  .featured::-webkit-scrollbar{ display:none; }

  .carousel{
    position:relative; width:100%; max-width:640px; height:var(--carousel-h);
    background:#fff; border:1px solid #000; display:none; place-items:center;
  }
  .carousel img{ width:100%; height:100%; object-fit:cover; }
  .nav-btn{
    position:absolute; top:50%; transform:translateY(-50%);
    width:28px; height:28px; background:#000; color:#fff; border:none;
    display:grid; place-items:center; cursor:pointer; transition:color .2s ease;
  }
  .nav-btn:hover{ color:var(--accent); }
  .nav-left{ left:6px; clip-path:polygon(100% 0, 0 50%, 100% 100%); }
  .nav-right{ right:6px; clip-path:polygon(0 0, 100% 50%, 0 100%); }

  .title{ width:100%; max-width:640px; text-align:left; }
  .desc{
    width:100%; max-width:640px; text-align:left;
    background:#fff; border:1px solid #000; padding:8px; box-sizing:border-box; display:none;
  }

  .buy-row{
    width:100%; max-width:640px; display:none; align-items:center; justify-content:space-between; gap:8px;
  }
  .price{ background:#fff; border:1px solid #000; padding:8px; }
  .qty{ display:flex; align-items:center; gap:8px; }
  .step{ width:28px; height:28px; background:#000; color:#fff; border:none; cursor:pointer; transition:color .2s ease; }
  .step:hover{ color:var(--accent); }
  .qty-val{ min-width:28px; text-align:center; }
  .add{ background:#000; color:#fff; border:1px solid #000; padding:8px 12px; cursor:pointer; transition:color .2s ease; }
  .add:hover{ color:var(--accent); }
  .total{ background:#fff; border:1px solid #000; padding:8px; min-width:120px; text-align:center; }

  /* footer: vertical stack links left; small credit bottom-right */
  .footer{
    position:fixed; left:0; right:0; bottom:0; height:var(--footer-h);
    border-top:1px solid #000; background:var(--bg);
  }
  .footer-wrap{
    position:absolute; left:12px; bottom:12px; display:flex; flex-direction:column; gap:10px;
    font-size:13px;
  }
  .footer a{ color:#000; }
  .footer a:hover{ color:#fff; }
  .footer a.mystery:hover{
    background:linear-gradient(90deg, red, orange, yellow, green, cyan, blue, violet);
    -webkit-background-clip:text; background-clip:text; color:transparent;
  }
  .credit{
    position:absolute; right:12px; bottom:8px; font-size:12px;
  }

  /* cart popup (reverted to boxed style) */
  .overlay{ position:fixed; inset:0; background:rgba(0,0,0,.35); display:none; z-index:1000; }
  .cart{
    position:absolute; right:20px; top:calc(var(--header-h) + 12px);
    width:360px; max-height:70vh; overflow:auto;
    background:#fff; color:#000; border:1px solid #000; padding:12px; box-sizing:border-box;
  }
  .cart-header{ display:flex; justify-content:space-between; align-items:center; margin-bottom:8px; }
  .close{ background:#000; color:#fff; border:none; padding:6px 10px; cursor:pointer; transition:color .2s ease; }
  .close:hover{ color:var(--accent); }
  .line{
    display:grid; grid-template-columns:48px 1fr auto auto; align-items:center; gap:8px;
    padding:6px 0; border-bottom:1px solid #000;
  }
  .line img{ width:48px; height:48px; object-fit:cover; border:1px solid #000; }
  .grand{ margin-top:8px; display:flex; justify-content:space-between; border-top:1px solid #000; padding-top:8px; }
  .drive{ margin-top:10px; width:100%; background:#000; color:#fff; border:1px solid #000; padding:10px; cursor:pointer; transition:color .2s ease; }
  .drive:hover{ color:var(--accent); }
</style>
</head>
<body>

<!-- custom cursor -->
<div id="custom-cursor" aria-hidden="true"></div>

<!-- header (truck only) -->
<header class="header">
  <div id="truckIcon" class="truck-icon" title="Open cart"></div>
</header>

<!-- logo centered above sidebar -->
<div class="logo-above-sidebar">
  <img src="VT_logo.png" alt="VT Logo">
</div>

<!-- sidebar -->
<nav class="sidebar">
  <a class="cat active" data-filter="all">ALL</a>
  <a class="cat" data-filter="lighting">LIGHTING</a>
  <a class="cat" data-filter="furniture">FURNITURE</a>
  <a class="cat" data-filter="structures">STRUCTURES</a>
  <a class="cat" data-filter="art">ART</a>
</nav>

<!-- main content -->
<section class="content">
  <!-- grid -->
  <div class="left-col">
    <div class="grid" id="grid"></div>
  </div>

  <!-- featured -->
  <div class="right-col">
    <div class="featured">
      <div class="carousel" id="carousel">
        <button class="nav-btn nav-left" id="prevBtn" title="Prev"></button>
        <img id="carouselImg" alt="">
        <button class="nav-btn nav-right" id="nextBtn" title="Next"></button>
      </div>

      <div class="title" id="featTitle"></div>
      <div class="desc" id="featDesc"></div>

      <div class="buy-row" id="buyRow">
        <div class="price" id="featPrice">$0.00</div>
        <div class="qty">
          <button class="step" id="decBtn">-</button>
          <div class="qty-val" id="qtyVal">1</div>
          <button class="step" id="incBtn">+</button>
        </div>
        <button class="add" id="addBtn">ADD TO TRUCK</button>
        <div class="total" id="totalVal">$0.00</div>
      </div>
    </div>
  </div>
</section>

<!-- footer -->
<footer class="footer">
  <div class="footer-wrap">
    <a href="https://jackvanthyne.org/vt-design-build.html">HOME PAGE</a>
    <a href="mailto:info@vtdesignbuild.com?subject=HELLO&body=hey,%0D%0A%0D%0Abest,%0D%0A_____">CONTACT</a>
    <a class="mystery" href="https://jackvanthyne.org/secretproducts.html">MYSTERY SHOP</a>
  </div>
  <div class="credit">THIS WEBSITE WAS MADE BY <a href="https://jackvanthyne.org/index.html">JACK VAN THYNE</a></div>
</footer>

<!-- cart popup -->
<div class="overlay" id="overlay" style="display:none;">
  <div class="cart" role="dialog" aria-modal="true">
    <div class="cart-header">
      <div>CART</div>
      <button class="close" id="closeCart">CLOSE</button>
    </div>
    <div id="cartList"></div>
    <div class="grand">
      <div>TOTAL</div>
      <div id="grandTotal">$0.00</div>
    </div>
    <button class="drive" id="driveBtn">DRIVE AWAY</button>
  </div>
</div>

<script>
/* cursor */
const cursor = document.getElementById('custom-cursor');
document.addEventListener('mousemove', e => {
  const s = parseInt(getComputedStyle(cursor).width);
  cursor.style.transform = `translate(${e.clientX - s/2}px, ${e.clientY - s/2}px)`;
}, { passive:true });

/* products (your list) */
const PRODUCTS = [
  /* Lighting */
  {
    id:'product001',
    cat:'lighting',
    title:'JAPANESE JOINT DESK LAMP',
    price:325,
    desc:'THIS WARM JAPANESE-INSPIRED DESK LAMP IS MADE WITH RECLAIMED OAK. IT IS DIMMABLE AND THE PRODUCT DIMENSIONS ARE H 16” W 6” L 6”. THIS PRODUCT IS UL CERTIFIED.',
    images:['product001_image001.jpg','product001_image002.jpg','product001_image003.jpg'],
    icon:'product001_icon.jpg'
  },
  {
    id:'product002',
    cat:'lighting',
    title:'JAPANESE JOINT DESK LAMP',
    price:650,
    desc:'THIS WARM JAPANESE-INSPIRED FLOOR LAMP IS MADE WITH RECLAIMED OAK. IT IS DIMMABLE AND THE PRODUCT DIMENSIONS ARE H 48” W 12” L 12”. THIS PRODUCT IS UL CERTIFIED.',
    images:['product002_image001.jpg','product002_image002.jpg','product002_image003.jpg'],
    icon:'product002_icon.jpg'
  },

  /* Furniture */
  {
    id:'product003',
    cat:'furniture',
    title:'OUTDOOR TABLE',
    price:1600,
    desc:'BUILT FROM LOCALLY SOURCED AND MILLED REDWOOD FOR NATURAL DURABILITY AND WEATHER RESISTANCE. SEATS 4–6 AND IS DESIGNED FOR PATIOS AND GARDENS.',
    images:['product003_image001.jpg','product003_image002.jpg','product003_image003.jpg'],
    icon:'product003_icon.jpg'
  },
  {
    id:'product004',
    cat:'furniture',
    title:'OUTDOOR BENCH',
    price:425,
    desc:'A MINIMALIST BENCH CRAFTED FROM LOCALLY SOURCED AND MILLED REDWOOD. COMFORTABLE, STURDY SEATING FOR PORCHES, ENTRIES, AND GARDEN PATHS.',
    images:['product004_image001.jpg','product004_image002.jpg','product004_image003.jpg'],
    icon:'product004_icon.jpg'
  },
  {
    id:'product005',
    cat:'furniture',
    title:'OUTDOOR LOUNGE CHAIR',
    price:1400,
    desc:'ERGONOMIC LOUNGE CHAIR MADE FROM LOCALLY SOURCED AND MILLED REDWOOD. RELAXED RECLINE FOR LONG, COMFORTABLE SITS.',
    images:['product005_image001.jpg','product005_image002.jpg','product005_image003.jpg'],
    icon:'product005_icon.jpg'
  },
  {
    id:'product006',
    cat:'furniture',
    title:'OUTDOOR LOVE SEAT',
    price:1600,
    desc:'TWO-SEATER LOVE SEAT IN LOCALLY SOURCED AND MILLED REDWOOD—COZY, DURABLE, AND READY FOR ALL-SEASON OUTDOOR LIVING.',
    images:['product006_image001.jpg','product006_image002.jpg','product006_image003.jpg'],
    icon:'product006_icon.jpg'
  },

  /* Structures */
  {
    id:'product007',
    cat:'structures',
    title:'MOBILE SAUNA',
    price:60000,
    desc:'A TRANSPORTABLE WOOD-FIRED SAUNA DESIGNED FOR QUICK SETUP AND OFF-GRID USE. INSULATED CONSTRUCTION, TEMPERED GLASS DOOR, AND INTERIOR BENCHING FOR 4–6.',
    images:['product007_image001.jpg','product007_image002.jpg','product007_image003.jpg'],
    icon:'product007_icon.jpg'
  },
  {
    id:'product008',
    cat:'structures',
    title:'FLOATING SAUNA',
    price:80000,
    desc:'A BARGE-MOUNTED, WOOD-FIRED SAUNA BUILT FOR LAKES OR CALM BAYS. MARINE-SAFE DETAILS, CHANGING NOOK, AND PANORAMIC WINDOW—SEATS 6–8.',
    images:['product008_image001.jpg','product008_image002.jpg','product008_image003.jpg'],
    icon:'product008_icon.jpg'
  },

  /* Art */
  {
    id:'product009',
    cat:'art',
    title:'REDWOODS',
    price:1200,
    desc:'ACRYLIC ON WOOD.',
    images:['product009_image001.jpg','product009_image002.jpg','product009_image003.jpg'],
    icon:'product009_icon.jpg'
  },
  {
    id:'product010',
    cat:'art',
    title:'WOMAN DANCING',
    price:1300,
    desc:'ACRYLIC ON WOOD.',
    images:['product010_image001.jpg','product010_image002.jpg','product010_image003.jpg'],
    icon:'product010_icon.jpg'
  }
];

/* state */
let filter = 'all';
let locked = false;   // after first click, hover no longer affects featured
let selected = null;  // clicked item
let hovered  = null;  // before first click
let imgIdx   = 0;
let qty      = 1;

/* els */
const grid       = document.getElementById('grid');
const cats       = document.querySelectorAll('.cat');
const carousel   = document.getElementById('carousel');
const carouselImg= document.getElementById('carouselImg');
const prevBtn    = document.getElementById('prevBtn');
const nextBtn    = document.getElementById('nextBtn');
const featTitle  = document.getElementById('featTitle');
const featDesc   = document.getElementById('featDesc');
const featPrice  = document.getElementById('featPrice');
const buyRow     = document.getElementById('buyRow');
const qtyVal     = document.getElementById('qtyVal');
const decBtn     = document.getElementById('decBtn');
const incBtn     = document.getElementById('incBtn');
const addBtn     = document.getElementById('addBtn');
const totalVal   = document.getElementById('totalVal');

const truckIcon  = document.getElementById('truckIcon');
const overlay    = document.getElementById('overlay');
const closeCart  = document.getElementById('closeCart');
const cartList   = document.getElementById('cartList');
const grandTotal = document.getElementById('grandTotal');

/* cart */
const CART = new Map();
const money = n => '$' + n.toFixed(2);

/* build grid with perfect-square tiles using icons */
function renderGrid(){
  grid.innerHTML = '';
  const items = PRODUCTS.filter(p => filter === 'all' ? true : p.cat === filter);
  items.forEach(p => {
    const tile = document.createElement('a');
    tile.href = 'javascript:void(0)';
    tile.className = 'tile';
    tile.dataset.id = p.id;

    const imgWrap = document.createElement('div');
    imgWrap.className = 'tile-img';
    const img = document.createElement('img');
    img.src = p.icon || (p.images[0] || '');
    img.alt = p.title;
    imgWrap.appendChild(img);

    const title = document.createElement('div');
    title.className = 't';
    title.textContent = p.title;

    tile.appendChild(imgWrap);
    tile.appendChild(title);

    // hover only before first click
    tile.addEventListener('mouseenter', () => { if (!locked) preview(p); });
    // click locks; clicking a new tile replaces featured
    tile.addEventListener('click', () => select(p));

    grid.appendChild(tile);
  });
}

/* preview vs select */
function preview(p){ hovered = p; showFeatured(p); }
function select(p){ selected = p; locked = true; showFeatured(p); }

/* featured panel content */
function showFeatured(p){
  featTitle.textContent = p.title;
  featDesc.style.display = 'block';
  featDesc.textContent = p.desc || '';
  featPrice.textContent = money(p.price);
  qty = 1; qtyVal.textContent = '1';
  totalVal.textContent = money(p.price * qty);
  buyRow.style.display = 'flex';

  imgIdx = 0;
  if (p.images && p.images.length){
    carousel.style.display = 'grid';
    carouselImg.src = p.images[0];
  } else {
    carousel.style.display = 'none';
    carouselImg.removeAttribute('src');
  }
}

/* current product for carousel & totals */
function currentProduct(){ return selected || (!locked ? hovered : null); }

/* carousel nav */
prevBtn.addEventListener('click', () => {
  const p = currentProduct(); if (!p || !p.images?.length) return;
  imgIdx = (imgIdx - 1 + p.images.length) % p.images.length;
  carouselImg.src = p.images[imgIdx];
});
nextBtn.addEventListener('click', () => {
  const p = currentProduct(); if (!p || !p.images?.length) return;
  imgIdx = (imgIdx + 1) % p.images.length;
  carouselImg.src = p.images[imgIdx];
});

/* qty & totals */
incBtn.addEventListener('click', () => {
  qty += 1; qtyVal.textContent = String(qty);
  const p = currentProduct(); if (!p) return;
  totalVal.textContent = money(p.price * qty);
});
decBtn.addEventListener('click', () => {
  qty = Math.max(1, qty - 1); qtyVal.textContent = String(qty);
  const p = currentProduct(); if (!p) return;
  totalVal.textContent = money(p.price * qty);
});

/* add to truck (flash white longer; no orange state) */
addBtn.addEventListener('click', () => {
  const p = currentProduct(); if (!p) return;
  if (CART.has(p.id)){
    const e = CART.get(p.id); e.qty += qty; CART.set(p.id, e);
  } else {
    CART.set(p.id, { id:p.id, title:p.title, price:p.price, qty:qty, thumb:(p.icon || p.images[0] || '') });
  }
  // visual: flash white (longer)
  truckIcon.classList.add('flash');
  setTimeout(() => truckIcon.classList.remove('flash'),
    parseInt(getComputedStyle(document.documentElement).getPropertyValue('--flash-ms')) || 800);
});

/* sidebar filters */
cats.forEach(c => {
  c.addEventListener('click', () => {
    cats.forEach(x => x.classList.remove('active'));
    c.classList.add('active');
    filter = c.dataset.filter;
    renderGrid();
    if (!selected){ // nothing locked yet: clear featured
      featTitle.textContent = '';
      featDesc.style.display = 'none';
      buyRow.style.display = 'none';
      carousel.style.display = 'none';
    }
  });
});

/* cart popup (reverted boxed style) */
function renderCart(){
  cartList.innerHTML = '';
  let total = 0;
  CART.forEach(({title, price, qty, thumb}) => {
    const line = document.createElement('div');
    line.className = 'line';

    const img = document.createElement('img');
    img.src = thumb || '';
    img.alt = title;

    const name = document.createElement('div'); name.textContent = title;
    const q    = document.createElement('div'); q.textContent = '× ' + qty;
    const sub  = document.createElement('div'); sub.textContent = money(price * qty);

    line.appendChild(img); line.appendChild(name); line.appendChild(q); line.appendChild(sub);
    cartList.appendChild(line);
    total += price * qty;
  });
  grandTotal.textContent = money(total);
}

truckIcon.addEventListener('click', () => {
  renderCart();
  overlay.style.display = 'block';
});
document.getElementById('closeCart').addEventListener('click', () => {
  overlay.style.display = 'none';
});
overlay.addEventListener('click', (e) => { if (e.target === overlay) overlay.style.display = 'none'; });

/* init */
renderGrid();
</script>
</body>
</html>
