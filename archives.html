<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Portfolio Scatter</title>
  <style>
    html, body {
      height: 100%;
      margin: 0;
    }
    main {
      height: 100%;
    }
    #portfolio {
      position: relative;
      width: 100vw;
      height: 100vh;
    }
    .project {
      position: absolute;
      width: 130px;  /* all projects same size */
      cursor: pointer;
      user-select: none;
    }
    .project img {
      width: 100%;
      height: auto;
      display: block;
    }
    header .signature {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      text-align: center;
      font-family: "Times New Roman", Times, serif;
      font-size: 16px;
      z-index: 10;
      pointer-events: none;
    }
  </style>
</head>
<body>
  <header>
    <div class="signature">-Jack Van Thyne-</div>
  </header>

  <main>
    <div class="portfolio" id="portfolio"></div>
  </main>

  <script>
    const projects = [
      { number: "001", bw: "project001_bw.png", color: "project001_color.png" },
      { number: "002", bw: "project002_bw.png", color: "project002_color.png" },
      { number: "003", bw: "project003_bw.png", color: "project003_color.png" },
      { number: "004", bw: "project004_bw.png", color: "project004_color.png" },
      { number: "005", bw: "project005_bw.png", color: "project005_color.png" },
      { number: "006", bw: "project006_bw.png", color: "project006_color.png" },
      { number: "007", bw: "project007_bw.png", color: "project007_color.png" },
      { number: "008", bw: "project008_bw.png", color: "project008_color.png" },
      { number: "009", bw: "project009_bw.png", color: "project009_color.png" },
      { number: "010", bw: "project010_bw.png", color: "project010_color.png" },
      { number: "011", bw: "project011_bw.png", color: "project011_color.png" },
      { number: "012", bw: "project012_bw.png", color: "project012_color.png" },
      { number: "013", bw: "project013_bw.png", color: "project013_color.png" },
      { number: "014", bw: "project014_bw.png", color: "project014_color.png" },
      { number: "015", bw: "project015_bw.png", color: "project015_color.png" },
      { number: "016", bw: "project016_bw.png", color: "project016_color.png" },
      { number: "017", bw: "project017_bw.png", color: "project017_color.png" },
      { number: "018", bw: "project018_bw.png", color: "project018_color.png" },
      { number: "019", bw: "project019_bw.png", color: "project019_color.png" },
      { number: "020", bw: "project020_bw.png", color: "project020_color.png" },
      { number: "021", bw: "project021_bw.png", color: "project021_color.png" },
      { number: "022", bw: "project022_bw.png", color: "project022_color.png" },
      { number: "023", bw: "project023_bw.png", color: "project023_color.png" },
      { number: "024", bw: "project024_bw.png", color: "project024_color.png" },
    ];

    function positionProjects() {
      const portfolio = document.getElementById("portfolio");
      portfolio.innerHTML = "";  

      const projectSize = 130;
      const spacing = 30;
      const nameAreaHeight = 120; 
      const placed = [];

      const boundsWidth = portfolio.clientWidth;
      const boundsHeight = portfolio.clientHeight;

      projects.forEach(project => {
        let overlap, attempts = 0, xPos = 0, yPos = 0;

        do {
          overlap = false;
          attempts++;
          xPos = Math.random() * Math.max(1, (boundsWidth - projectSize - spacing));
          yPos = Math.random() * Math.max(1, (boundsHeight - projectSize - spacing - nameAreaHeight));

          for (const p of placed) {
            if (
              xPos < p.x + projectSize + spacing &&
              xPos + projectSize + spacing > p.x &&
              yPos < p.y + projectSize + spacing &&
              yPos + projectSize + spacing > p.y
            ) { overlap = true; break; }
          }
        } while (overlap && attempts < 100);

        const card = document.createElement("div");
        card.className = "project";
        card.style.left = `${xPos}px`;
        card.style.top = `${yPos}px`;
        card.style.width = `${projectSize}px`;

        // Only show the icon, remove project name
        card.innerHTML = `<img src="${project.bw}" alt="Project ${project.number}" class="bw-image" />`;

        card.addEventListener("mouseenter", () => {
          const img = card.querySelector(".bw-image");
          img.style.filter = `brightness(0) saturate(100%) invert(50%) sepia(1) hue-rotate(${Math.random()*360}deg)`;
        });
        card.addEventListener("mouseleave", () => {
          const img = card.querySelector(".bw-image");
          img.style.filter = "none";
        });

        card.addEventListener("click", () => {
          const formatted = project.number.padStart(3, "0");
          window.location.href = `project_${formatted}.html`;
        });

        portfolio.appendChild(card);
        placed.push({ x: xPos, y: yPos });
      });
    }

    function debounce(fn, wait = 200) {
      let t; 
      return () => { clearTimeout(t); t = setTimeout(fn, wait); };
    }

    window.addEventListener("load", positionProjects);
    window.addEventListener("resize", debounce(positionProjects, 200));
  </script>
</body>
</html>
