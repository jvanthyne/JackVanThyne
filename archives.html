<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Portfolio Scatter</title>
<style>
  html, body {
    height: 100%;
    margin: 0;
  }
  main {
    height: 100%;
  }
  #portfolio {
    position: relative;
    width: 100vw;
    height: 100vh;
  }
  .project {
    position: absolute;
    width: 130px;       /* container width */
    height: 130px;      /* container height */
    cursor: pointer;
    user-select: none;
    overflow: hidden;   /* ensures image cannot overflow */
  }
  .project img {
    width: 100%;
    height: 100%;
    object-fit: cover;  /* fill container, crop if needed */
    display: block;
    transform-origin: center center;
    transition: transform 0.3s ease;
  }
  .project:hover img {
    transform: scale(1.05); /* subtle zoom on hover */
  }
  header .signature {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    text-align: center;
    font-family: "Times New Roman", Times, serif;
    font-size: 16px;
    z-index: 10;
    pointer-events: none;
  }
</style>
</head>
<body>
<header>
  <div class="signature">-Jack Van Thyne-</div>
</header>

<main>
  <div class="portfolio" id="portfolio"></div>
</main>

<script>
const projects = [
  { number: "001", bw: "project001_bw.png" },
  { number: "002", bw: "project002_bw.png" },
  { number: "003", bw: "project003_bw.png" },
  { number: "004", bw: "project004_bw.png" },
  { number: "005", bw: "project005_bw.png" },
  { number: "006", bw: "project006_bw.png" },
  { number: "007", bw: "project007_bw.png" },
  { number: "008", bw: "project008_bw.png" },
  { number: "009", bw: "project009_bw.png" },
  { number: "010", bw: "project010_bw.png" },
  { number: "011", bw: "project011_bw.png" },
  { number: "012", bw: "project012_bw.png" },
  { number: "013", bw: "project013_bw.png" },
  { number: "014", bw: "project014_bw.png" },
  { number: "015", bw: "project015_bw.png" },
  { number: "016", bw: "project016_bw.png" },
  { number: "017", bw: "project017_bw.png" },
  { number: "018", bw: "project018_bw.png" },
  { number: "019", bw: "project019_bw.png" },
  { number: "020", bw: "project020_bw.png" },
  { number: "021", bw: "project021_bw.png" },
  { number: "022", bw: "project022_bw.png" },
  { number: "023", bw: "project023_bw.png" },
  { number: "024", bw: "project024_bw.png" },
];

function positionProjects() {
  const portfolio = document.getElementById("portfolio");
  portfolio.innerHTML = "";
  const projectSize = 130;
  const spacing = 30;
  const nameAreaHeight = 120;
  const placed = [];
  const boundsWidth = portfolio.clientWidth;
  const boundsHeight = portfolio.clientHeight;

  projects.forEach(project => {
    let overlap, attempts = 0, xPos = 0, yPos = 0;
    do {
      overlap = false;
      attempts++;
      xPos = Math.random() * Math.max(1, boundsWidth - projectSize - spacing);
      yPos = Math.random() * Math.max(1, boundsHeight - projectSize - spacing - nameAreaHeight);
      for (const p of placed) {
        if (
          xPos < p.x + projectSize + spacing &&
          xPos + projectSize + spacing > p.x &&
          yPos < p.y + projectSize + spacing &&
          yPos + projectSize + spacing > p.y
        ) { overlap = true; break; }
      }
    } while (overlap && attempts < 100);

    const card = document.createElement("div");
    card.className = "project";
    card.style.left = `${xPos}px`;
    card.style.top = `${yPos}px`;

    // Only show the icon, no project name
    const img = document.createElement("img");
    img.src = project.bw;
    img.alt = `Project ${project.number}`;
    card.appendChild(img);

    card.addEventListener("click", () => {
      window.location.href = `project_${project.number}.html`;
    });

    portfolio.appendChild(card);
    placed.push({ x: xPos, y: yPos });
  });
}

function debounce(fn, wait = 200) {
  let t;
  return () => { clearTimeout(t); t = setTimeout(fn, wait); };
}

window.addEventListener("load", positionProjects);
window.addEventListener("resize", debounce(positionProjects, 200));
</script>
</body>
</html>
