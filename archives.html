<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Portfolio Scatter</title>
<style>
  :root { --bg:#0a0a0a; --fg:#eaeaea; }

  html, body {
    margin: 0; padding: 0;
    height: 100%; width: 100%;
    background: var(--bg);
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    overflow: hidden;
    cursor: none; /* hide default cursor */
  }

  #custom-cursor {
    position: fixed; top: 0; left: 0; width: 32px; height: 32px;
    pointer-events: none; z-index: 9999;
    clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
    background: #fff; mix-blend-mode: difference;
  }

  #portfolio {
    position: relative;
    width: 100vw;
    height: 100vh;
  }

  .project {
    position: absolute;
    width: 130px;
    height: 130px;
    cursor: pointer;
    user-select: none;
    overflow: hidden;
  }

  .project img {
    width: 100%;
    height: 100%;
    object-fit: contain; /* scale image to fit container without cropping */
    display: block;
    transition: filter 0.3s ease;
  }

  header .signature {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    text-align: center;
    font-family: "Times New Roman", Times, serif;
    font-size: 16px;
    z-index: 10;
    pointer-events: none;
    color: var(--fg);
  }
</style>
</head>
<body>
<header>
  <div class="signature">-Jack Van Thyne-</div>
</header>

<main>
  <div id="portfolio"></div>
</main>

<div id="custom-cursor" aria-hidden="true"></div>

<script>
const cursor = document.getElementById('custom-cursor');
document.addEventListener('mousemove', e => {
  cursor.style.transform = `translate(${e.clientX - 16}px, ${e.clientY - 16}px)`;
});

// Project list
const projects = [
  { number: "001", bw: "project001_bw.png" },
  { number: "002", bw: "project002_bw.png" },
  { number: "003", bw: "project003_bw.png" },
  { number: "004", bw: "project004_bw.png" },
  { number: "005", bw: "project005_bw.png" },
  { number: "006", bw: "project006_bw.png" },
  { number: "007", bw: "project007_bw.png" },
  { number: "008", bw: "project008_bw.png" },
  { number: "009", bw: "project009_bw.png" },
  { number: "010", bw: "project010_bw.png" },
  { number: "011", bw: "project011_bw.png" },
  { number: "012", bw: "project012_bw.png" },
  { number: "013", bw: "project013_bw.png" },
  { number: "014", bw: "project014_bw.png" },
  { number: "015", bw: "project015_bw.png" },
  { number: "016", bw: "project016_bw.png" },
  { number: "017", bw: "project017_bw.png" },
  { number: "018", bw: "project018_bw.png" },
  { number: "019", bw: "project019_bw.png" },
  { number: "020", bw: "project020_bw.png" },
  { number: "021", bw: "project021_bw.png" },
  { number: "022", bw: "project022_bw.png" },
  { number: "023", bw: "project023_bw.png" },
  { number: "024", bw: "project024_bw.png" },
];

function positionProjects() {
  const portfolio = document.getElementById("portfolio");
  portfolio.innerHTML = "";

  const projectSize = 130;
  const spacing = 30;
  const nameAreaHeight = 120;
  const placed = [];
  const boundsWidth = portfolio.clientWidth;
  const boundsHeight = portfolio.clientHeight;

  projects.forEach(project => {
    let overlap, attempts = 0, xPos = 0, yPos = 0;
    do {
      overlap = false;
      attempts++;
      xPos = Math.random() * Math.max(1, boundsWidth - projectSize - spacing);
      yPos = Math.random() * Math.max(1, boundsHeight - projectSize - spacing - nameAreaHeight);
      for (const p of placed) {
        if (
          xPos < p.x + projectSize + spacing &&
          xPos + projectSize + spacing > p.x &&
          yPos < p.y + projectSize + spacing &&
          yPos + projectSize + spacing > p.y
        ) { overlap = true; break; }
      }
    } while (overlap && attempts < 100);

    const card = document.createElement("div");
    card.className = "project";
    card.style.left = `${xPos}px`;
    card.style.top = `${yPos}px`;

    const img = document.createElement("img");
    img.src = project.bw;
    img.alt = `Project ${project.number}`;
    card.appendChild(img);

    // Color hover effect
    card.addEventListener("mouseenter", () => {
      img.style.filter = `brightness(0) saturate(100%) invert(50%) sepia(1) hue-rotate(${Math.random()*360}deg)`;
    });
    card.addEventListener("mouseleave", () => {
      img.style.filter = "none";
    });

    card.addEventListener("click", () => {
      const formatted = project.number.padStart(3, "0");
      window.location.href = `project_${formatted}.html`;
    });

    portfolio.appendChild(card);
    placed.push({ x: xPos, y: yPos });
  });
}

function debounce(fn, wait = 200) {
  let t;
  return () => { clearTimeout(t); t = setTimeout(fn, wait); };
}

window.addEventListener("load", positionProjects);
window.addEventListener("resize", debounce(positionProjects, 200));
</script>
</body>
</html>
