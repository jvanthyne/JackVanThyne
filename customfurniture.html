<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>van thyne custom furniture</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      margin: 0;
      font-family: "MS Sans Serif", system-ui, sans-serif;
      background: #707070; /* muted gray */
      color: #000;
      cursor: default; /* old-school arrow vibe */
      overflow: hidden; /* keep everything inside viewport */
    }

    a {
      color: #0000aa; /* softer blue */
      text-decoration: underline;
      cursor: pointer;
    }

    .desktop {
      height: 100vh;
      display: flex;
      flex-direction: column;
    }

    /* Top banner */
    .menu-bar {
      background: #003354; /* muted blue */
      color: #f0f0f0;
      padding: 4px 8px;
      font-size: 12px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      box-shadow: 0 2px 0 #000;
    }

    .menu-bar span.title {
      font-weight: bold;
      text-transform: none; /* keep lowercase */
    }

    .menu-right {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .home-button {
      border: 2px solid #000;
      background: #c4c4c4;
      padding: 2px 10px;
      font-size: 11px;
      cursor: pointer;
      box-shadow: 2px 2px 0 #000;
      text-transform: lowercase;
    }

    .home-button:active {
      box-shadow: 1px 1px 0 #000;
      transform: translate(1px, 1px);
    }

    .content {
      flex: 1;
      padding: 16px;
      background-image:
        repeating-linear-gradient(45deg, #6c6c6c 0, #6c6c6c 1px, #707070 1px, #707070 3px);
      font-size: 12px;
      box-sizing: border-box;
    }

    /* Launcher panel */
    .link-panel {
      background: #c4c4c4;
      border: 2px solid #000;
      box-shadow: 3px 3px 0 #000;
      display: inline-block;
      padding: 8px 12px;
      max-width: 90vw;
      box-sizing: border-box;
    }

    .link-panel-title {
      font-weight: bold;
      margin-bottom: 4px;
    }

    .link-list {
      list-style: none;
      padding-left: 16px;
      margin: 4px 0 0 0;
    }

    .link-list li {
      margin-bottom: 4px;
    }

    /* Window / popup styles */
    .window {
      position: absolute;
      top: 80px;
      left: 80px;
      background: #c8c8c8;
      border: 2px solid #000;
      box-shadow: 4px 4px 0 #000;
      min-width: 220px;
      max-width: 90vw;
      max-height: 80vh;
      font-size: 12px;
      z-index: 10;
      display: flex;
      flex-direction: column;
      box-sizing: border-box;
    }

    .window.hidden {
      display: none;
    }

    .title-bar {
      padding: 3px 6px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      box-sizing: border-box;
      cursor: move; /* drag handle */
      flex-shrink: 0;
      color: #f0f0f0;
      touch-action: none; /* better touch dragging */
    }

    .title-bar .title {
      font-weight: bold;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .title-bar .controls {
      display: flex;
      gap: 2px;
    }

    .title-bar button {
      width: 18px;
      height: 18px;
      border: 1px solid #5c0000;
      background: #992222; /* muted red X */
      color: #fff;
      font-size: 10px;
      line-height: 1;
      padding: 0;
      cursor: pointer;
    }

    .window-body {
      padding: 8px;
      overflow: auto;
      max-height: calc(80vh - 26px); /* account for title bar */
      box-sizing: border-box;
    }

    .window-body p {
      margin-top: 0;
      margin-bottom: 8px;
    }

    .window-body img {
      max-width: 100%;
      image-rendering: pixelated;
      border: 1px solid #000;
      display: block;
      margin-bottom: 8px;
    }

    .button-row {
      margin-top: 8px;
      text-align: right;
    }

    .retro-button {
      border: 2px solid #003354; /* default blue accent */
      background: #e0e0e0;
      padding: 2px 10px;
      font-size: 11px;
      cursor: pointer;
      box-shadow: 2px 2px 0 #000;
      text-transform: lowercase;
    }

    .retro-button:active {
      box-shadow: 1px 1px 0 #000;
      transform: translate(1px, 1px);
    }

    .small-text {
      font-size: 11px;
    }

    .input-row {
      display: flex;
      gap: 6px;
      margin-top: 6px;
      align-items: center;
      flex-wrap: wrap;
    }

    .input-row input {
      font-size: 11px;
      padding: 2px 4px;
      border: 1px solid #000;
      background: #f0f0f0;
      min-width: 160px;
      max-width: 50vw;
      box-sizing: border-box;
    }

    .image-grid {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .image-grid img {
      max-height: 140px;
      object-fit: cover;
    }

    /* THEME COLORS PER WINDOW */

    /* About window – blue */
    .window-about .title-bar {
      background: linear-gradient(to right, #003354, #00436a);
    }
    .window-about .window-body {
      background-image:
        repeating-linear-gradient(0deg, #c8c8c8 0, #c8c8c8 2px, #bcbcbc 2px, #bcbcbc 3px);
    }

    /* Past works – gray */
    .window-past .title-bar {
      background: linear-gradient(to right, #4f4f4f, #6c6c6c);
    }
    .window-past .window-body {
      background-image:
        repeating-linear-gradient(0deg, #d0d0d0 0, #d0d0d0 2px, #c2c2c2 2px, #c2c2c2 3px);
    }

    /* Contact – muted orange */
    .window-contact .title-bar {
      background: linear-gradient(to right, #8b4a21, #b9642e);
    }
    .window-contact .window-body {
      background-image:
        repeating-linear-gradient(0deg, #e3d1c4 0, #e3d1c4 2px, #d8c5b8 2px, #d8c5b8 3px);
    }
    .window-contact .retro-button {
      border-color: #8b4a21; /* orange accent on button */
    }

    /* MOBILE TWEAKS */
    @media (max-width: 600px) {
      .menu-bar {
        font-size: 11px;
        padding: 4px 6px;
      }

      .home-button {
        padding: 2px 8px;
        font-size: 10px;
      }

      .content {
        padding: 8px;
        font-size: 11px;
      }

      .link-panel {
        width: 100%;
        max-width: 100%;
        box-shadow: 2px 2px 0 #000;
      }

      .window {
        min-width: 80vw;
        max-width: 96vw;
        max-height: 75vh;
      }

      .title-bar {
        padding: 5px 8px;
      }

      .title-bar button {
        width: 24px;
        height: 24px;
        font-size: 12px;
      }

      .window-body {
        max-height: calc(75vh - 30px);
      }

      .image-grid img {
        max-height: 120px;
      }

      .input-row input {
        max-width: 100%;
        flex: 1 1 100%;
      }

      .retro-button {
        font-size: 10px;
        padding: 2px 8px;
      }
    }
  </style>
</head>
<body>
  <div class="desktop">
    <div class="menu-bar">
      <span class="title">van thyne custom furniture</span>
      <div class="menu-right">
        <button class="home-button" onclick="window.location.href='index.html'">
          home
        </button>
      </div>
    </div>

    <div class="content">
      <!-- small “launcher” panel for all popups -->
      <div class="link-panel">
        <div class="link-panel-title">open windows</div>
        <ul class="link-list">
          <li><a href="#" id="aboutLink">about + design philosophy</a></li>
          <li><a href="#" id="pastWorksLink">past works</a></li>
          <li><a href="#" id="contactLink">contact / schedule / reach out</a></li>
        </ul>
      </div>
    </div>
  </div>

  <!-- About + Design Philosophy window -->
  <div class="window window-about hidden" id="aboutWindow">
    <div class="title-bar">
      <div class="title">about – van thyne custom furniture</div>
      <div class="controls">
        <button class="close-btn">X</button>
      </div>
    </div>
    <div class="window-body">
      <p>
        jack van thyne is a student at uc berkeley studying landscape architecture
        with a focus on furniture design and research in wood construction and forest management.
      </p>
      <p>
        van thyne custom furniture designs and builds custom pieces in the bay area,
        often using reclaimed or locally sourced lumber. each project becomes a collaboration
        between the client, the site, and the material.
      </p>
      <p>
        the work sits between architecture, furniture, and landscape. pieces are meant to feel
        honest about their structure so the way they are built and where the wood came from
        remains legible.
      </p>
      <p>
        materials are treated as a record of place and use. dents, grain shifts, and repairs
        are part of the design language rather than details to hide.
      </p>
    </div>
  </div>

  <!-- Past Works window: images only -->
  <div class="window window-past hidden" id="pastWorksWindow">
    <div class="title-bar">
      <div class="title">past_works / images</div>
      <div class="controls">
        <button class="close-btn">X</button>
      </div>
    </div>
    <div class="window-body">
      <p class="small-text">
        some past projects:
      </p>
      <div class="image-grid">
        <img src="furniturepastworkimage001.jpg" alt="past project 001">
        <img src="furniturepastworkimage002.jpg" alt="past project 002">
        <img src="furniturepastworkimage003.jpg" alt="past project 003">
        <img src="furniturepastworkimage004.jpg" alt="past project 004">
        <img src="furniturepastworkimage005.jpg" alt="past project 005">
      </div>
    </div>
  </div>

  <!-- Contact / Schedule / Reach Out window -->
  <div class="window window-contact hidden" id="contactWindow">
    <div class="title-bar">
      <div class="title">contact / schedule consultation</div>
      <div class="controls">
        <button class="close-btn">X</button>
      </div>
    </div>
    <div class="window-body">
      <p>
        van thyne custom furniture offers a free preliminary design consultation for new projects.
        the conversation typically covers the piece, where it will live, and the intended timeline,
        before moving into sketches and possibilities.
      </p>
      <p class="small-text">
        click below to email:
      </p>
      <p class="small-text">
        <a href="mailto:jjvanthyne?subject=custom%20furniture%20consultation">
          email jjvanthyne to schedule a consultation
        </a>
      </p>
      <hr>
      <p class="small-text">
        if a project has an associated code, it can be entered here. clicking
        <strong>reach out</strong> will open a project window:
      </p>
      <div class="input-row">
        <input type="text" id="projectCodeInput" placeholder="enter project code (if applicable)">
        <button class="retro-button" id="projectCodeButton">reach out</button>
      </div>
    </div>
  </div>

  <!-- Project window (dynamic) -->
  <div class="window window-about hidden" id="projectWindow">
    <div class="title-bar">
      <div class="title" id="projectWindowTitle">project</div>
      <div class="controls">
        <button class="close-btn">X</button>
      </div>
    </div>
    <div class="window-body">
      <img id="projectImage" src="" alt="project image" style="display:none;">
      <p id="projectText"></p>
      <div class="button-row">
        <button class="retro-button" id="projectConsultButton">
          schedule consultation about this project
        </button>
      </div>
      <p class="small-text" id="projectCodeNote"></p>
    </div>
  </div>

  <script>
    // Project codes and preset popup content
    const PROJECTS = {
      "thehiddencafe": {
        title: "TheHiddenCafe",
        code: "TheHiddenCafe",
        image: "TheHiddenCafe.jpg",
        text: "TheHiddenCafe is a compact built-in cafe corner, combining seating, storage, and shelving to create a quiet place for coffee inside a larger space."
      },
      "fava": {
        title: "FAVA",
        code: "FAVA",
        image: "FAVA.jpg",
        text: "FAVA is a flexible table and bench system developed for shared meals and gatherings, using simple joinery and durable finishes for everyday use."
      },
      "lucindasdeli": {
        title: "LucindasDeli",
        code: "LucindasDeli",
        image: "LucindasDeli.jpg",
        text: "LucindasDeli features custom shelving and counter elements designed to frame food, light, and circulation within a small neighborhood deli setting."
      },
      "thelaundromat": {
        title: "TheLaundromat",
        code: "TheLaundromat",
        image: "TheLaundromat.jpg",
        text: "TheLaundromat is a series of benches, folding surfaces, and partitions that organize waiting, working, and conversation in a laundromat environment."
      }
    };

    // bring window to front
    function bringToFront(win) {
      const maxZ = Array.from(document.querySelectorAll(".window"))
        .reduce((m, w) => Math.max(m, parseInt(window.getComputedStyle(w).zIndex) || 0), 10);
      win.style.zIndex = maxZ + 1;
    }

    function showWindow(id) {
      const el = document.getElementById(id);
      if (!el) return;
      el.classList.remove("hidden");
      clampWindowToViewport(el);
      bringToFront(el);
    }

    function hideWindow(el) {
      el.classList.add("hidden");
    }

    function clampWindowToViewport(el) {
      const viewportWidth = window.innerWidth;
      const viewportHeight = window.innerHeight;
      const rect = el.getBoundingClientRect();

      let left = rect.left;
      let top = rect.top;

      const maxLeft = Math.max(0, viewportWidth - rect.width - 4);
      const maxTop = Math.max(24, viewportHeight - rect.height - 4);

      if (left < 0) left = 0;
      if (top < 0) top = 0;
      if (left > maxLeft) left = maxLeft;
      if (top > maxTop) top = maxTop;

      el.style.left = left + "px";
      el.style.top = top + "px";
    }

    function positionWindowRandom(id) {
      const el = document.getElementById(id);
      if (!el) return;

      // ensure it's visible for measurements
      el.classList.remove("hidden");

      const viewportWidth = window.innerWidth;
      const viewportHeight = window.innerHeight;
      const rect = el.getBoundingClientRect();

      const maxLeft = Math.max(0, viewportWidth - rect.width - 16);
      const maxTop = Math.max(24, viewportHeight - rect.height - 16);

      const left = Math.floor(Math.random() * (maxLeft + 1));
      const top = Math.floor(Math.random() * (maxTop + 1));

      el.style.left = left + "px";
      el.style.top = top + "px";

      bringToFront(el);
    }

    // drag logic for mouse + touch
    function makeWindowsDraggable() {
      let activeWindow = null;
      let offsetX = 0;
      let offsetY = 0;

      function startDrag(win, clientX, clientY) {
        activeWindow = win;
        bringToFront(activeWindow);
        const rect = win.getBoundingClientRect();
        offsetX = clientX - rect.left;
        offsetY = clientY - rect.top;
      }

      // Make title bars draggable and all windows bring-to-front on tap/click
      document.querySelectorAll(".window").forEach(win => {
        // Bring to front when touching/clicking anywhere on the window
        win.addEventListener("mousedown", () => bringToFront(win));
        win.addEventListener("touchstart", () => bringToFront(win), { passive: true });

        const bar = win.querySelector(".title-bar");
        if (!bar) return;

        // mouse drag
        bar.addEventListener("mousedown", function (e) {
          startDrag(win, e.clientX, e.clientY);
          e.preventDefault();
        });

        // touch drag
        bar.addEventListener("touchstart", function (e) {
          const touch = e.touches[0];
          startDrag(win, touch.clientX, touch.clientY);
          e.preventDefault();
        }, { passive: false });
      });

      function moveActive(clientX, clientY) {
        if (!activeWindow) return;

        const viewportWidth = window.innerWidth;
        const viewportHeight = window.innerHeight;
        const rect = activeWindow.getBoundingClientRect();
        let newLeft = clientX - offsetX;
        let newTop = clientY - offsetY;

        const maxLeft = viewportWidth - rect.width - 4;
        const maxTop = viewportHeight - rect.height - 4;

        if (newLeft < 0) newLeft = 0;
        if (newTop < 0) newTop = 0;
        if (newLeft > maxLeft) newLeft = maxLeft;
        if (newTop > maxTop) newTop = maxTop;

        activeWindow.style.left = newLeft + "px";
        activeWindow.style.top = newTop + "px";
      }

      // mouse move/up
      document.addEventListener("mousemove", function (e) {
        moveActive(e.clientX, e.clientY);
      });

      document.addEventListener("mouseup", function () {
        activeWindow = null;
      });

      // touch move/end
      document.addEventListener("touchmove", function (e) {
        if (!activeWindow) return;
        const touch = e.touches[0];
        moveActive(touch.clientX, touch.clientY);
        e.preventDefault();
      }, { passive: false });

      document.addEventListener("touchend", function () {
        activeWindow = null;
      });
    }

    function openProjectFromCode(codeRaw) {
      if (!codeRaw) return;
      const key = codeRaw.trim().toLowerCase();
      if (!key) return;

      const project = PROJECTS[key];
      if (!project) {
        window.alert(
          "unknown project code.\n\nrecognized codes include: TheHiddenCafe, FAVA, LucindasDeli, TheLaundromat."
        );
        return;
      }

      const win = document.getElementById("projectWindow");
      const titleEl = document.getElementById("projectWindowTitle");
      const imgEl = document.getElementById("projectImage");
      const textEl = document.getElementById("projectText");
      const noteEl = document.getElementById("projectCodeNote");
      const btnEl = document.getElementById("projectConsultButton");

      titleEl.textContent = project.title + " (" + project.code + ")";
      textEl.textContent = project.text;

      if (project.image && project.image.length > 0) {
        imgEl.src = project.image;
        imgEl.style.display = "block";
      } else {
        imgEl.style.display = "none";
      }

      noteEl.textContent = "project code: " + project.code;

      // mailto with code, third-person friendly template
      btnEl.onclick = function () {
        const email = "jjvanthyne";
        const subject = encodeURIComponent("preliminary design consultation – " + project.code);
        const body = encodeURIComponent(
          "hello,\n\nthis email is about project " + project.code + ".\n\nbest,\n"
        );
        window.location.href = "mailto:" + email + "?subject=" + subject + "&body=" + body;
      };

      showWindow("projectWindow");
    }

    document.addEventListener("DOMContentLoaded", function () {
      // enable dragging + bring-to-front behavior
      makeWindowsDraggable();

      // open all main windows in random locations on load
      positionWindowRandom("aboutWindow");
      positionWindowRandom("pastWorksWindow");
      positionWindowRandom("contactWindow");

      // close buttons
      document.querySelectorAll(".close-btn").forEach(btn => {
        btn.addEventListener("click", function () {
          const win = this.closest(".window");
          if (win) hideWindow(win);
        });
      });

      // launcher links
      document.getElementById("aboutLink").addEventListener("click", function (e) {
        e.preventDefault();
        showWindow("aboutWindow");
      });

      document.getElementById("pastWorksLink").addEventListener("click", function (e) {
        e.preventDefault();
        showWindow("pastWorksWindow");
      });

      document.getElementById("contactLink").addEventListener("click", function (e) {
        e.preventDefault();
        showWindow("contactWindow");
      });

      // project code reach-out button
      const projectCodeInput = document.getElementById("projectCodeInput");
      const projectCodeButton = document.getElementById("projectCodeButton");

      projectCodeButton.addEventListener("click", function () {
        openProjectFromCode(projectCodeInput.value);
      });

      projectCodeInput.addEventListener("keydown", function (e) {
        if (e.key === "Enter") {
          openProjectFromCode(projectCodeInput.value);
        }
      });

      // re-clamp windows if viewport is resized (desktop + mobile rotation)
      window.addEventListener("resize", function () {
        document.querySelectorAll(".window:not(.hidden)").forEach(clampWindowToViewport);
      });
    });
  </script>
</body>
</html>
